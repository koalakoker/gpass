<input type="checkbox" id="nav-toggle" hidden>
<nav class="nav">
<label for="nav-toggle" class="nav-toggle" onclick></label>
<ul>
  <li><a href="#1">Uno </a>
  <li><a href="#2">Due</a>
  <li><a href="#3">Tre</a>
  <li><a href="#4">Quattro</a>
  <li><a href="#5">Cinque</a>
  <li><a href="#6">Sei</a>
  <li><a href="#7">Sete</a>
</ul>
</nav>

<input *ngIf="!logged" (change)="enter()" [(ngModel)]="chipher_password" class="form-control" type="password" placeholder="Insert master password">
<button *ngIf="logged" (click)="onNewFunc()" class="btn-dark" type="button">Insert</button>
<button *ngIf="logged" (click)="logOut()"    class="btn-dark">Logout</button>
<div>
  <ul class="list-group">
    <li class="list-group-item" *ngFor="let element of list; let i = index" 
      [class.active]="isSelected(element)"
      (click)="onSelect(element)">

      <!-- Data -->
      <a target="blank" class="{{getUrl('url', i).enabled}}" href="http://{{getUrl('url', i).value}}">{{getUrl('name', i).value}}</a><span class="badge badge-danger">{{isExpired(i)}}</span>
      <br><br>
      
      <!-- Edit button -->
      <button type="button"
        class="btn"
        *ngIf="isSelected(element)"
        [class.btn-secondary]="!edit"
        [class.btn-dark]="edit"
        (click)="onButtonEdit()">
        Edit
      </button>

      <!-- Remove button -->
      <button type="button"
        class="btn"
        *ngIf="isSelected(element)"
        [class.btn-secondary]="!edit"
        [class.btn-dark]="edit"
        (click)="onButtonRemove(i)">
        Del
      </button>

      <!-- Copy username -->
      <button type="button"
        class="btn"
        *ngIf="isSelected(element)"
        [class.btn-secondary]="!edit"
        [class.btn-dark]="edit"
        ngxClipboard [cbContent]="getUrl('username', i).value" (cbOnSuccess)="sendMessage('Username copied to clipboard')">
        Uname
      </button>

      <!-- Copy password -->
      <button type="button"
        class="btn"
        *ngIf="isSelected(element)"
        [class.btn-secondary]="!edit"
        [class.btn-dark]="edit"
        ngxClipboard [cbContent]="getUrl('pass', i).value" (cbOnSuccess)="sendMessage('Password copied to clipboard')">
        Pass
      </button>

      <div 
        class="list-group-item-primary"
        *ngIf="edit && isSelected(element)">
        
        <!-- Edit element -->
        <div>
          <label>Name
            <input type="text"     class="form-control" [(ngModel)]="list[i].name"             placeholder="name"     (change)="save(i)">
          </label>
          <br>
          <label>Url
            <input type="text"     class="form-control" [(ngModel)]="list[i].url"              placeholder="url"      (change)="save(i)">
          </label><br>
          <label>Username
            <input type="text"     class="form-control" [(ngModel)]="list[i].username"         placeholder="username" (change)="save(i)">
          </label><br>
          <label>Password
            <input type="password" class="form-control" [(ngModel)]="list[i].pass"             placeholder="pass"     (change)="save(i)">
          </label><br>
          <label>Registration Date:
            <input type="text"     class="form-control" [(ngModel)]="list[i].registrationDate" placeholder="date"     (change)="save(i)">
          </label><button class="btn btn-info" (click)="onTodayButton(i)">Today</button><br>
          <label>Expiration Date:
            <input type="text"     class="form-control" [(ngModel)]="list[i].expirationDate"   placeholder="date"     (change)="save(i)">
          </label>
        </div>

      </div>

      <div class="alert alert-secondary" role="alert" *ngIf="(message!=='')&&(isSelected(element))">
        {{message}}
      </div>

    </li>
  </ul>
</div>
<br>
<div class="alert alert-danger" role="alert" *ngIf="errorMessage!==''">
  {{errorMessage}}
</div>
{{test}}